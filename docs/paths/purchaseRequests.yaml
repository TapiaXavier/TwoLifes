post:
  tags:
  - Solicitudes
  summary: Crear una nueva solicitud.
  requestBody:
    content:
      application/json:
        schema:
          $ref: ../schemas/purchaseRequestsBody.yaml
    required: true
  responses:
    200:
      description: (OK) La solicitud fue creado exitosamente.
      content:
        application/json:
          schema:
            $ref: ../schemas/purchaseRequestsPublicData.yaml
    400:
      $ref: ../responses.yaml#/BadRequest
    404:
      $ref: ../responses.yaml#/NotFound
    500:
      $ref: ../responses.yaml#/ServerError

get:
  tags:
  - Solicitudes
  summary: Obtener todas las solicitudes.
  parameters:
    - name: ad
      in: query
      type: string
      description: Filtrar por id de anuncio
      example: 614e49d025f7c2aec834fd81
      required: false
    - name: user
      in: query
      type: string
      description: Filtrar por ID del usuario ("Mis solicitudes")
      example: 614e2140de8d8a97ef00b022
      required: false
    - name: deliveryDate
      in: query
      description: Filtrar por deliveryDate de la solicitud
      schema:
        anyOf:
          - type: string
            pattern: '^=\[\d{2}-\d{2}-\d{4}$'
          - type: string
            pattern: '^=\d{2}-\d{2}-\d{4}\]$'
          - type: string
            pattern: '^=\[\d{2}-\d{2}-\d{4},\d{2}-\d{2}-\d{4}\]$'
      example: deliveryDate=[23-12-2014
      required: false  
    - name: status
      in: query
      type: string
      description: Filtrar por status de la solicitud
      example: Aceptada 
      required: false
    - name: populate   
      in: query
      type: string
      description: Hacer join / Traer informacion de foreign key del valor de parametro (puede recibir uno o mas parametros entre corchetes y separados por coma)
      example: [user,advertiser] 
      required: false
    - name: orderBy
      in: query
      description: Ordenar registros (sintaxis orderby=[parametro a ordenar,tipo de orden]  )
      schema:
        type: string
        patter: '^orderby=\[(status|deliveryDate),(asc|desc)]$'
      example: [deliveryDate,asc]
      required: false
    - $ref: ../filters/filters.yaml#/limit
  responses:
    200:
      description: (OK) Array de solicitudes.
      content:
        application/json:
          schema:
            $ref: ../schemas/purchaseRequestsPublicData.yaml
    400:
      $ref: ../responses.yaml#/BadRequest
    404:
      $ref: ../responses.yaml#/NotFound
    500:
      $ref: ../responses.yaml#/ServerError
